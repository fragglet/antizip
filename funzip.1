.TH FUNZIP 1 "7 Feb 94 (v3.8)"
.SH NAME
funzip \- extract from a ZIP archive file as a filter
.SH SYNOPSIS
[.\|.\|.]  |  \fBfunzip\fP [ \-password ]  |  [.\|.\|.]
.LP
\fBfunzip\fP [ \-password ]  input.zip |  [.\|.\|.]
.SH ARGUMENTS
.IP [\fI\-password\fP]
Optional password to be used if ZIP archive is encrypted.  Decryption
may not be supported at some sites.  See DESCRIPTION for more details.
.PD
.SH DESCRIPTION
.I funzip
acts as a filter; that is, it assumes that a ZIP archive is being piped into
standard input, and it extracts the first member from the archive to stdout.
If there is an argument, then the input comes from the specified file
instead of from stdin.  A password for encrypted zip files can be specified
on the command line (preceding the file name, if any) by prefixing the
password with a dash.  If the first entry of the zip file is encrypted and
no password is specified on the command line, then the user is prompted for
a password, and the password is not echoed on the console.
.LP
Given the limitation on single-member extraction, \fIfunzip\fP is most
useful in conjunction with a secondary archiver program such as \fItar\fP(1).
The following section includes an example illustrating this usage in the
case of disk backups to tape.
.PD
.SH EXAMPLES
To use \fIfunzip\fP to extract the first member file of the archive test.zip
and to pipe it into \fImore\fP(1):
.IP "\tfunzip test.zip | more"
.LP
To use \fIfunzip\fP to test the first member file of test.zip (any errors
will be reported on standard error):
.IP "\tfunzip test.zip > /dev/null"
.LP
To use \fIzip\fP and \fIfunzip\fP in place of \fIcompress\fP(1) and
\fIzcat\fP(1) for tape backups:
.LP
.PD 0
.IP "\ttar cf \- . | zip \-7 | dd of=/dev/nrst0 obs=8k"
.IP "\tdd if=/dev/nrst0 ibs=8k | funzip | tar xf \-"
.PD
.LP
(where, for example, nrst0 is a SCSI tape drive).
.PD
.SH BUGS
When piping an encrypted file into \fImore\fP and allowing \fIfunzip\fP
to prompt for password, the terminal may sometimes be reset to a non-echo
mode.  This is apparently due to a race condition between the two programs;
\fIfunzip\fP changes the terminal mode to non-echo before \fImore\fP reads
its state, and \fImore\fP then ``restores'' the terminal to this mode before
exiting.  To recover, run \fIfunzip\fP on the same file but redirect to
/dev/null rather than piping into more; after prompting again for the 
password, \fIfunzip\fP will reset the terminal properly.
.LP
There is presently no way to extract any member but the first from a ZIP
archive.  This would be useful in the case where a ZIP archive is included
within another archive.  In the case where the first member is a directory,
\fIfunzip\fP simply creates the directory and exits.
.LP
The functionality of \fIfunzip\fP should be incorporated into \fIunzip\fP
itself (future release).
.PD
.SH SEE ALSO
\fIunzip\fP(1), \fIzip\fP(1), \fIzipcloak\fP(1), \fIzipinfo\fP(1),
\fIzipnote\fP(1), \fIzipsplit\fP(1)
.PD
.SH AUTHOR
Mark Adler (Info-ZIP)
